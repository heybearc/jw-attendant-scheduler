(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[527],{6996:function(e,t,a){Promise.resolve().then(a.bind(a,3056))},3056:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return l}});var s=a(7437),n=a(2265);function l(){let[e,t]=(0,n.useState)([]),[a,l]=(0,n.useState)(!0),[r,i]=(0,n.useState)(""),[d,c]=(0,n.useState)(!1),[o,m]=(0,n.useState)({firstName:"",lastName:"",email:"",phone:""});(0,n.useEffect)(()=>{x()},[]);let x=async()=>{try{let e=await fetch("/api/attendants"),a=await e.json();t(a)}catch(e){console.error("Failed to load attendants:",e)}finally{l(!1)}},h=async()=>{if(!r.trim()){x();return}try{let e=await fetch("/api/attendants/search?q=".concat(encodeURIComponent(r))),a=await e.json();t(a)}catch(e){console.error("Search failed:",e)}},u=async e=>{e.preventDefault();try{(await fetch("/api/attendants",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)})).ok&&(m({firstName:"",lastName:"",email:"",phone:""}),c(!1),x())}catch(e){console.error("Failed to create attendant:",e)}};return a?(0,s.jsx)("div",{className:"container mx-auto p-8",children:(0,s.jsxs)("div",{className:"animate-pulse",children:[(0,s.jsx)("div",{className:"h-8 bg-gray-300 rounded w-1/4 mb-6"}),(0,s.jsx)("div",{className:"space-y-4",children:[1,2,3].map(e=>(0,s.jsx)("div",{className:"h-20 bg-gray-200 rounded"},e))})]})}):(0,s.jsxs)("div",{className:"container mx-auto p-8",children:[(0,s.jsx)("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 p-4 mb-6",children:(0,s.jsxs)("p",{className:"text-yellow-700",children:[(0,s.jsx)("strong",{children:"Next.js Staging Environment"})," - Attendant management with SDD architecture"]})}),(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"Attendant Management"}),(0,s.jsx)("button",{onClick:()=>c(!0),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Add New Attendant"})]}),(0,s.jsxs)("div",{className:"mb-6 flex gap-4",children:[(0,s.jsx)("input",{type:"text",placeholder:"Search attendants...",value:r,onChange:e=>i(e.target.value),className:"flex-1 px-4 py-2 border rounded-lg",onKeyPress:e=>"Enter"===e.key&&h()}),(0,s.jsx)("button",{onClick:h,className:"bg-gray-600 text-white px-6 py-2 rounded hover:bg-gray-700",children:"Search"}),(0,s.jsx)("button",{onClick:()=>{i(""),x()},className:"bg-gray-400 text-white px-4 py-2 rounded hover:bg-gray-500",children:"Clear"})]}),d&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg w-96",children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Add New Attendant"}),(0,s.jsxs)("form",{onSubmit:u,children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:"First Name"}),(0,s.jsx)("input",{type:"text",required:!0,value:o.firstName,onChange:e=>m({...o,firstName:e.target.value}),className:"w-full px-3 py-2 border rounded"})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Last Name"}),(0,s.jsx)("input",{type:"text",required:!0,value:o.lastName,onChange:e=>m({...o,lastName:e.target.value}),className:"w-full px-3 py-2 border rounded"})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Email"}),(0,s.jsx)("input",{type:"email",value:o.email,onChange:e=>m({...o,email:e.target.value}),className:"w-full px-3 py-2 border rounded"})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Phone"}),(0,s.jsx)("input",{type:"tel",value:o.phone,onChange:e=>m({...o,phone:e.target.value}),className:"w-full px-3 py-2 border rounded"})]}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-2 rounded hover:bg-blue-700",children:"Create Attendant"}),(0,s.jsx)("button",{type:"button",onClick:()=>c(!1),className:"flex-1 bg-gray-400 text-white py-2 rounded hover:bg-gray-500",children:"Cancel"})]})]})]})}),(0,s.jsx)("div",{className:"grid gap-4",children:0===e.length?(0,s.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,s.jsx)("p",{className:"text-xl mb-2",children:"No attendants found"}),(0,s.jsx)("p",{children:"Add your first attendant to get started"})]}):e.map(e=>(0,s.jsx)("div",{className:"bg-white p-6 rounded-lg shadow border",children:(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"text-lg font-semibold",children:[e.firstName," ",e.lastName]}),e.email&&(0,s.jsx)("p",{className:"text-gray-600",children:e.email}),e.phone&&(0,s.jsx)("p",{className:"text-gray-600",children:e.phone}),(0,s.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:["Added: ",new Date(e.createdAt).toLocaleDateString()]})]}),(0,s.jsx)("div",{className:"flex gap-2",children:(0,s.jsx)("span",{className:"px-2 py-1 rounded text-sm ".concat(e.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.isActive?"Active":"Inactive"})})]})},e.id))}),(0,s.jsxs)("div",{className:"mt-8 text-center text-gray-500",children:[(0,s.jsxs)("p",{children:["Total Attendants: ",e.length]}),(0,s.jsx)("p",{className:"text-sm",children:"Using SDD Attendant Management Library"})]})]})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=6996)}),_N_E=e.O()}]);