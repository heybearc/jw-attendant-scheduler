(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2354:function(e,t,n){Promise.resolve().then(n.bind(n,7340))},7340:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var s=n(7437),a=n(9294),r=n(9376),l=n(2265),i=n(7648);function c(){let{user:e,loading:t}=(0,a.a)(),n=(0,r.useRouter)();return((0,l.useEffect)(()=>{!t&&e&&("ADMIN"===e.role?n.push("/admin"):n.push("/dashboard"))},[e,t,n]),t)?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsx)("div",{className:"text-lg",children:"Loading..."})}):e?null:(0,s.jsx)("main",{className:"min-h-screen bg-gray-50 py-8",children:(0,s.jsx)("div",{className:"container mx-auto px-4 max-w-4xl",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"JW Attendant Scheduler"}),(0,s.jsx)("p",{className:"text-gray-600 mb-8",children:"Manage events and attendant assignments"}),(0,s.jsx)("div",{className:"grid grid-cols-1 gap-6",children:(0,s.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-8",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold text-blue-900 mb-4",children:"Event Management"}),(0,s.jsx)("p",{className:"text-blue-700 mb-6",children:"Create and manage events, positions, and attendant assignments. All attendant management is done within specific events."}),(0,s.jsx)(i.default,{href:"/auth/signin",className:"inline-block bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors text-lg font-medium",children:"Sign In to Get Started"})]})}),(0,s.jsxs)("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"bg-gray-100 rounded-lg p-4 text-center",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-700",children:"Total Events"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:"-"})]}),(0,s.jsxs)("div",{className:"bg-gray-100 rounded-lg p-4 text-center",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-700",children:"Active Attendants"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:"-"})]}),(0,s.jsxs)("div",{className:"bg-gray-100 rounded-lg p-4 text-center",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-700",children:"Total Assignments"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:"-"})]})]})]})})})}},9294:function(e,t,n){"use strict";n.d(t,{Providers:function(){return i},a:function(){return l}});var s=n(7437),a=n(2265);let r=(0,a.createContext)(void 0);function l(){let e=(0,a.useContext)(r);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}function i(e){let{children:t}=e,[n,l]=(0,a.useState)(null),[i,c]=(0,a.useState)(!0);(0,a.useEffect)(()=>{d()},[]);let d=async()=>{try{let e=await fetch("/api/auth/me",{credentials:"include"});if(e.ok){let t=await e.json();l(t.user)}}catch(e){console.error("Auth check failed:",e)}finally{c(!1)}},o=async(e,t)=>{try{let n=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:e,password:t})});if(n.ok){let e=await n.json();return l(e.user),!0}return!1}catch(e){return console.error("Login failed:",e),!1}},u=async()=>{try{await fetch("/api/auth/logout",{method:"POST",credentials:"include"}),l(null)}catch(e){console.error("Logout failed:",e)}};return(0,s.jsx)(r.Provider,{value:{user:n,loading:i,login:o,logout:u},children:t})}},9376:function(e,t,n){"use strict";var s=n(5475);n.o(s,"useRouter")&&n.d(t,{useRouter:function(){return s.useRouter}}),n.o(s,"useSearchParams")&&n.d(t,{useSearchParams:function(){return s.useSearchParams}})}},function(e){e.O(0,[648,971,117,744],function(){return e(e.s=2354)}),_N_E=e.O()}]);