(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[946],{1934:function(e,s,t){Promise.resolve().then(t.bind(t,6446))},6446:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return d}});var a=t(7437),r=t(2265),n=t(9376),l=t(605),i=t(7648);function d(){let{data:e}=(0,l.useSession)(),s=(0,n.useRouter)(),[t,d]=(0,r.useState)(!1),[c,o]=(0,r.useState)(""),[u,m]=(0,r.useState)({firstName:"",lastName:"",email:"",phone:"",servingAs:[],skills:[],preferredDepartments:[],notes:""}),x=async e=>{e.preventDefault(),d(!0),o("");try{let e=await fetch("/api/attendants",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)});if(e.ok)s.push("/attendants");else{let s=await e.json();o(s.error||"Failed to create attendant")}}catch(e){o("An error occurred while creating the attendant")}finally{d(!1)}},h=(e,s,t)=>{m(a=>({...a,[e]:t?[...a[e],s]:a[e].filter(e=>e!==s)}))};return e?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,a.jsx)("div",{className:"container mx-auto px-4 max-w-4xl",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"Create New Attendant"}),(0,a.jsx)(i.default,{href:"/attendants",className:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600",children:"Back to Attendants"})]}),c&&(0,a.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mb-6",children:c}),(0,a.jsxs)("form",{onSubmit:x,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),(0,a.jsx)("input",{type:"text",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",value:u.firstName,onChange:e=>m(s=>({...s,firstName:e.target.value}))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),(0,a.jsx)("input",{type:"text",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",value:u.lastName,onChange:e=>m(s=>({...s,lastName:e.target.value}))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,a.jsx)("input",{type:"email",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",value:u.email,onChange:e=>m(s=>({...s,email:e.target.value}))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),(0,a.jsx)("input",{type:"tel",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",value:u.phone,onChange:e=>m(s=>({...s,phone:e.target.value}))})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Serving As"}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:["Attendant","Microphone Handler","Sound Operator","Platform Assistant","Literature Servant","Accounts Servant","Security","Parking Attendant","Information Desk","First Aid","Cleaning","Stage Manager"].map(e=>(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",className:"mr-2",checked:u.servingAs.includes(e),onChange:s=>h("servingAs",e,s.target.checked)}),(0,a.jsx)("span",{className:"text-sm",children:e})]},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Skills & Qualifications"}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:["Audio/Visual Equipment","Public Speaking","First Aid Certified","Sign Language","Multiple Languages","Technical Support","Event Coordination","Customer Service","Security Training"].map(e=>(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",className:"mr-2",checked:u.skills.includes(e),onChange:s=>h("skills",e,s.target.checked)}),(0,a.jsx)("span",{className:"text-sm",children:e})]},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Departments"}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:["Platform","Audio/Visual","Literature","Accounts","Security","Parking","Information","First Aid","Cleaning","Stage"].map(e=>(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",className:"mr-2",checked:u.preferredDepartments.includes(e),onChange:s=>h("preferredDepartments",e,s.target.checked)}),(0,a.jsx)("span",{className:"text-sm",children:e})]},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),(0,a.jsx)("textarea",{rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",value:u.notes,onChange:e=>m(s=>({...s,notes:e.target.value})),placeholder:"Additional notes about the attendant..."})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,a.jsx)(i.default,{href:"/attendants",className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",disabled:t,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:t?"Creating...":"Create Attendant"})]})]})]})})}):(0,a.jsx)("div",{children:"Please sign in to access this page."})}},9376:function(e,s,t){"use strict";var a=t(5475);t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(s,{useSearchParams:function(){return a.useSearchParams}})}},function(e){e.O(0,[605,648,971,117,744],function(){return e(e.s=1934)}),_N_E=e.O()}]);