(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[847],{29:function(e,t,n){Promise.resolve().then(n.bind(n,1332))},9294:function(e,t,n){"use strict";n.d(t,{Providers:function(){return l},a:function(){return o}});var r=n(7437),i=n(2265);let s=(0,i.createContext)(void 0);function o(){let e=(0,i.useContext)(s);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}function l(e){let{children:t}=e,[n,o]=(0,i.useState)(null),[l,a]=(0,i.useState)(!0);(0,i.useEffect)(()=>{c()},[]);let c=async()=>{try{let e=await fetch("/api/auth/me");if(e.ok){let t=await e.json();o(t.user)}}catch(e){console.error("Auth check failed:",e)}finally{a(!1)}},u=async(e,t)=>{try{let n=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});if(n.ok){let e=await n.json();return o(e.user),!0}return!1}catch(e){return console.error("Login failed:",e),!1}},d=async()=>{try{await fetch("/api/auth/logout",{method:"POST"}),o(null)}catch(e){console.error("Logout failed:",e)}};return(0,r.jsx)(s.Provider,{value:{user:n,loading:l,login:u,logout:d},children:t})}},1332:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(7437),i=n(7648),s=n(9294);function o(){let{user:e}=(0,s.a)();return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,r.jsx)("div",{className:"max-w-md w-full space-y-8",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Access Denied"}),(0,r.jsx)("div",{className:"mt-4 bg-yellow-50 border border-yellow-200 text-yellow-700 px-4 py-3 rounded",children:"You don't have permission to access this resource."}),e&&(0,r.jsxs)("div",{className:"mt-4 text-center text-sm text-gray-600",children:["Signed in as: ",null==e?void 0:e.email," (",null==e?void 0:e.role,")"]}),(0,r.jsxs)("div",{className:"mt-6 space-y-4 text-center",children:[(0,r.jsx)(i.default,{href:"/",className:"block text-blue-600 hover:text-blue-500 font-medium",children:"Return to Home"}),e&&(0,r.jsx)("button",{onClick:()=>{},className:"block w-full text-red-600 hover:text-red-500 font-medium",children:"Sign out and try different account"})]})]})})})}}},function(e){e.O(0,[648,971,117,744],function(){return e(e.s=29)}),_N_E=e.O()}]);