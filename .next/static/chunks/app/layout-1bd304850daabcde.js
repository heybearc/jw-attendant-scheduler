(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{9112:function(e,t,n){Promise.resolve().then(n.bind(n,9294)),Promise.resolve().then(n.t.bind(n,4742,23)),Promise.resolve().then(n.t.bind(n,7960,23))},9294:function(e,t,n){"use strict";n.d(t,{Providers:function(){return u},a:function(){return a}});var r=n(7437),o=n(2265);let i=(0,o.createContext)(void 0);function a(){let e=(0,o.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}function u(e){let{children:t}=e,[n,a]=(0,o.useState)(null),[u,l]=(0,o.useState)(!0);(0,o.useEffect)(()=>{c()},[]);let c=async()=>{try{let e=await fetch("/api/auth/me",{credentials:"include"});if(e.ok){let t=await e.json();a(t.user)}}catch(e){console.error("Auth check failed:",e)}finally{l(!1)}},s=async(e,t)=>{try{let n=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:e,password:t})});if(n.ok){let e=await n.json();return a(e.user),!0}return!1}catch(e){return console.error("Login failed:",e),!1}},f=async()=>{try{await fetch("/api/auth/logout",{method:"POST",credentials:"include"}),a(null)}catch(e){console.error("Logout failed:",e)}};return(0,r.jsx)(i.Provider,{value:{user:n,loading:u,login:s,logout:f},children:t})}},7960:function(){},4742:function(e){e.exports={style:{fontFamily:"'__Inter_f367f3', '__Inter_Fallback_f367f3'",fontStyle:"normal"},className:"__className_f367f3"}}},function(e){e.O(0,[540,971,117,744],function(){return e(e.s=9112)}),_N_E=e.O()}]);