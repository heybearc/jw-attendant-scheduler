(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{9907:function(e,s,t){Promise.resolve().then(t.bind(t,1720))},1720:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return o}});var n=t(7437),l=t(605),r=t(9376),a=t(2265),d=t(7648);function o(){var e,s,t;let{data:o,status:i}=(0,l.useSession)(),c=(0,r.useRouter)(),[u,x]=(0,a.useState)({totalEvents:0,upcomingEvents:0,totalAttendants:0,myAssignments:0}),[m,g]=(0,a.useState)(!0);(0,a.useEffect)(()=>{if("loading"!==i){if(!o){c.push("/auth/signin");return}h()}},[o,i,c]);let h=async()=>{try{let e=await fetch("/api/dashboard/stats");if(e.ok){let s=await e.json();x(s)}}catch(e){console.error("Failed to fetch dashboard stats:",e)}finally{g(!1)}};return"loading"===i||m?(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,n.jsx)("div",{className:"text-lg",children:"Loading..."})}):(0,n.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,n.jsx)("div",{className:"container mx-auto px-4 max-w-6xl",children:(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-3xl font-bold",children:"Dashboard"}),(0,n.jsxs)("p",{className:"text-gray-600",children:["Welcome back, ",null==o?void 0:null===(e=o.user)||void 0===e?void 0:e.name]})]}),(0,n.jsxs)("div",{className:"space-x-4",children:[(null==o?void 0:null===(s=o.user)||void 0===s?void 0:s.role)==="ADMIN"&&(0,n.jsx)(d.default,{href:"/admin",className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",children:"Admin Panel"}),(0,n.jsx)("button",{onClick:()=>(0,l.signOut)({callbackUrl:"/auth/signin"}),className:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600",children:"Sign Out"})]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,n.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-blue-900",children:"Total Events"}),(0,n.jsx)("p",{className:"text-2xl font-bold text-blue-700",children:u.totalEvents})]}),(0,n.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-green-900",children:"Upcoming Events"}),(0,n.jsx)("p",{className:"text-2xl font-bold text-green-700",children:u.upcomingEvents})]}),(0,n.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-purple-900",children:"Total Attendants"}),(0,n.jsx)("p",{className:"text-2xl font-bold text-purple-700",children:u.totalAttendants})]}),(0,n.jsxs)("div",{className:"bg-orange-50 p-4 rounded-lg",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-orange-900",children:"My Assignments"}),(0,n.jsx)("p",{className:"text-2xl font-bold text-orange-700",children:u.myAssignments})]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,n.jsxs)(d.default,{href:"/events",className:"bg-blue-100 border border-blue-200 rounded-lg p-6 hover:bg-blue-200 transition-colors",children:[(0,n.jsx)("h3",{className:"text-xl font-semibold text-blue-900 mb-2",children:"Event Management"}),(0,n.jsx)("p",{className:"text-blue-700",children:"Create and manage events, positions, and schedules"})]}),(0,n.jsxs)(d.default,{href:"/attendants",className:"bg-green-100 border border-green-200 rounded-lg p-6 hover:bg-green-200 transition-colors",children:[(0,n.jsx)("h3",{className:"text-xl font-semibold text-green-900 mb-2",children:"Attendant Management"}),(0,n.jsx)("p",{className:"text-green-700",children:"Manage attendant profiles and assignments"})]}),(0,n.jsxs)(d.default,{href:"/counts",className:"bg-purple-100 border border-purple-200 rounded-lg p-6 hover:bg-purple-200 transition-colors",children:[(0,n.jsx)("h3",{className:"text-xl font-semibold text-purple-900 mb-2",children:"Count Tracking"}),(0,n.jsx)("p",{className:"text-purple-700",children:"Track attendance counts and generate reports"})]}),["ADMIN","OVERSEER"].includes((null==o?void 0:null===(t=o.user)||void 0===t?void 0:t.role)||"")&&(0,n.jsxs)(d.default,{href:"/oversight",className:"bg-red-100 border border-red-200 rounded-lg p-6 hover:bg-red-200 transition-colors",children:[(0,n.jsx)("h3",{className:"text-xl font-semibold text-red-900 mb-2",children:"Oversight"}),(0,n.jsx)("p",{className:"text-red-700",children:"Department oversight and management tools"})]}),(0,n.jsxs)(d.default,{href:"/assignments",className:"bg-yellow-100 border border-yellow-200 rounded-lg p-6 hover:bg-yellow-200 transition-colors",children:[(0,n.jsx)("h3",{className:"text-xl font-semibold text-yellow-900 mb-2",children:"My Assignments"}),(0,n.jsx)("p",{className:"text-yellow-700",children:"View your current and upcoming assignments"})]}),(0,n.jsxs)(d.default,{href:"/documents",className:"bg-indigo-100 border border-indigo-200 rounded-lg p-6 hover:bg-indigo-200 transition-colors",children:[(0,n.jsx)("h3",{className:"text-xl font-semibold text-indigo-900 mb-2",children:"Documents"}),(0,n.jsx)("p",{className:"text-indigo-700",children:"Access event documents and resources"})]})]})]})})})}},9376:function(e,s,t){"use strict";var n=t(5475);t.o(n,"useRouter")&&t.d(s,{useRouter:function(){return n.useRouter}}),t.o(n,"useSearchParams")&&t.d(s,{useSearchParams:function(){return n.useSearchParams}})}},function(e){e.O(0,[605,648,971,117,744],function(){return e(e.s=9907)}),_N_E=e.O()}]);